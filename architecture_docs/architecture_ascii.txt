
    ╔═══════════════════════════════════════════════════════════════════════════════╗
    ║                        A2A 감성 분석 시스템 아키텍처                           ║
    ╚═══════════════════════════════════════════════════════════════════════════════╝

    ┌─────────────────────────────────────────────────────────────────────────────┐
    │                              사용자 인터페이스                               │
    │                         Web UI (http://localhost:8100)                       │
    └─────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          ▼ WebSocket
    ┌─────────────────────────────────────────────────────────────────────────────┐
    │                            중앙 오케스트레이터                               │
    │                    Main Orchestrator V2 (포트: 8100)                         │
    │                    Registry Server (포트: 8001)                              │
    └─────────────────────────────────────────────────────────────────────────────┘
                                          │
                ┌─────────────────────────┴─────────────────────────┐
                ▼                                                   ▼
    ┌───────────────────────────┐                    ┌──────────────────────────┐
    │    1단계: 티커 추출       │                    │   2단계: 데이터 수집     │
    │    NLU Agent (:8108)      │                    │                          │
    │    - 자연어 이해          │                    │  병렬 처리:              │
    │    - 티커 심볼 추출       │                    │  • News Agent (:8307)    │
    └───────────────────────────┘                    │  • Twitter Agent (:8209) │
                                                     │  • SEC Agent (:8210)     │
                                                     │  • Quant Agent (:8211)   │
                                                     └──────────────────────────┘
                                                                  │
                                                                  ▼
    ┌─────────────────────────────────────────────────────────────────────────────┐
    │                            3-5단계: 분석 처리                                │
    │                                                                             │
    │  ┌─────────────────────┐  ┌─────────────────────┐  ┌──────────────────┐   │
    │  │ Sentiment Analysis  │  │  Score Calculation  │  │  Risk Analysis   │   │
    │  │  Agent (:8202)      │─▶│   Agent (:8203)     │─▶│  Agent (:8212)   │   │
    │  │ • 감성 분석         │  │ • 가중치 적용       │  │ • 리스크 평가    │   │
    │  │ • 다중 LLM 지원     │  │ • 종합 점수 계산    │  │ • 투자 권고      │   │
    │  └─────────────────────┘  └─────────────────────┘  └──────────────────┘   │
    └─────────────────────────────────────────────────────────────────────────────┘
                                          │
                                          ▼
    ┌─────────────────────────────────────────────────────────────────────────────┐
    │                           6단계: 리포트 생성                                  │
    │                     Report Generation Agent (:8204)                          │
    │                        • HTML/PDF 보고서 생성                                │
    └─────────────────────────────────────────────────────────────────────────────┘

    【외부 API 연동】
    • Gemini API (Google AI)    • OpenAI API       • Finnhub API
    • Twitter API v2            • SEC EDGAR API    • Yahoo Finance

    【데이터 소스 가중치】
    • SEC 공시: 1.5 (높음)      • 뉴스: 1.0 (보통)     • 트위터: 0.7 (낮음)
    